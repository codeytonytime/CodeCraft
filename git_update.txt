-- Auto-Update Script with Enhanced Debugging
function downloadFile(url, filename)
    print("Downloading:", url)
    local response = http.get(url)
    if response then
        local content = response.readAll()
        response.close()
        local file = fs.open(filename, "w")
        file.write(content)
        file.close()
        print("Successfully updated:", filename)
    else
        print("Error: Failed to download from", url)
        return false
    end
    return true
end

function autoUpdate(files)
    for filename, url in pairs(files) do
        print("Updating:", filename)
        local success = downloadFile(url, filename)
        if not success then
            print("Failed to update:", filename)
        end
    end
end

-- Define your files and their GitHub raw URLs here
local files = {
    ["git_update.lua"] = "https://raw.githubusercontent.com/codeytonytime/CodeCraft/refs/heads/main/git_update.txt?token=GHSAT0AAAAAAC24XHVGICS5L6A2WKBWP6ICZ2I3XDA",
	["git_test.lua"] = "https://raw.githubusercontent.com/codeytonytime/CodeCraft/refs/heads/main/git_test.txt?token=GHSAT0AAAAAAC24XHVG5HJEFQZ3SVVVBEIEZ2I3XYA",
}

-- Update and handle errors
print("Starting update...")
autoUpdate(files)
print("Update complete.")